{% extends 'appomatic_siteinfo/models/BaseModel/page.html' %}
{% load endless %}

{% block content_title %}
  <h1>{{obj.name}}</h1>
{% endblock %}

{% block properties %}
  <tr><th>Aliases</th><td>
    {% for alias in obj.aliases.all %}
      {{alias.name}},
    {% endfor %}
  </td></tr>
{% endblock %}

{% block body %}
  <iframe class="map" src="{% url 'appomatic_mapserver.views.application' application='appomatic_siteinfo.models.SiteInfoMap' %}?operator={{obj.id}}"></iframe>
  <div class="objinfo">
    {{block.super}}
  </div>
{% endblock %}


{% block content %}
  {{block.super}}

  <h2>Sites</h2>

  {% paginate 10 obj.wells.all as paginated_wells %}
  <table>
    <thead><tr><th>API</th><th>Latitude</th><th>Longitude</th></tr></thead>
    <tbody>
      {% for well in paginated_wells %}
        <tr>
          <td><a href="{{well.get_absolute_url}}">{{well.api}}</td>
          <td><a href="{{well.get_absolute_url}}">{{well.latitude}}</td>
          <td><a href="{{well.get_absolute_url}}">{{well.longitude}}</td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
  <div class="pagination">{% show_pages %}</div>


  <h2>Wells</h2>

  {% paginate 10 obj.wells.all as paginated_wells %}
  <table>
    <thead><tr><th>API</th><th>Latitude</th><th>Longitude</th></tr></thead>
    <tbody>
      {% for well in paginated_wells %}
        <tr>
          <td><a href="{{well.get_absolute_url}}">{{well.api}}</td>
          <td><a href="{{well.get_absolute_url}}">{{well.latitude}}</td>
          <td><a href="{{well.get_absolute_url}}">{{well.longitude}}</td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
  <div class="pagination">{% show_pages %}</div>



  <h2>Events</h2>

  {% paginate 10 obj.events.all as paginated_events %}
  <div class="excerpts">
    {% for event in paginated_events %}
      {{ event.render_as.excerpt|safe }}
    {% endfor %}
  </div>
  <div class="pagination">{% show_pages %}</div>
 
{% endblock %}
