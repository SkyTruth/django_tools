{% extends 'appomatic_siteinfo/models/LocationData/page.html' %}
{% load endless %}

{% block content_title %}
  <h1>{{obj.name}}</h1>
{% endblock %}

{% block properties %}
  {{block.super}}
  <tr><th>Aliases</th><td>
    {% for alias in obj.aliases.all %}
      {{alias.name}},
    {% endfor %}
  </td></tr>
  <tr><th>Operators</th><td>
    {% for operator in obj.operators.all %}
      {{operator.render_as.link|safe}},
    {% endfor %}
  </td></tr>
{% endblock %}

{% block content %}
  {{block.super}}

  <form method="post" class="uniForm">
   {% csrf_token %}
   <input type="hidden" name="method" value="comment">
   {{comment_form.content}}
   <button type="submit" name="submit" class="comment_button">Comment</button>
  </form>


  <h2>Wells</h2>

  {% paginate 10 obj.wells.all as paginated_wells %}
  <table>
    <thead><tr><th>API</th><th>Latitude</th><th>Longitude</th></tr></thead>
    <tbody>
      {% for well in paginated_wells %}
        <tr>
          <td><a href="{{well.get_absolute_url}}">{{well.api}}</td>
          <td><a href="{{well.get_absolute_url}}">{{well.latitude}}</td>
          <td><a href="{{well.get_absolute_url}}">{{well.longitude}}</td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
  <div class="pagination">{% show_pages %}</div>


  <h2>Events</h2>

  {% paginate 10 obj.events.all as paginated_events %}
  <div class="excerpts">
    {% for event in paginated_events %}
      {{ event.render_as.excerpt|safe }}
    {% endfor %}
  </div>
  <div class="pagination">{% show_pages %}</div>

{% endblock %}
